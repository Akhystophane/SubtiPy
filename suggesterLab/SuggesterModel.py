import os
OPEN_AI_KEY =  "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"

quotes = ['handshake_1f91d.png', 'check-mark-button_2705.png', 'input-latin-uppercase_1f520.png', 'atm-sign_1f3e7.png', 'keycap-digit-six_36-fe0f-20e3.png', 'smiling-face_263a-fe0f.png', 'mans-shoe_1f45e.png', 'telescope_1f52d.png', 'rocket_1f680.png', 'up-right-arrow_2197-fe0f.png', 'keycap-digit-three_33-fe0f-20e3.png', 'dog_1f415.png', 'coin_1fa99.png', 'revolving-hearts_1f49e.png', 'ok-button_1f197.png', 'vertical-traffic-light_1f6a6.png', 'telephone_260e-fe0f.png', 'index-pointing-at-the-viewer_1faf5.png', 'nazar-amulet_1f9ff.png', 'bell_1f514.png', 'reminder-ribbon_1f397-fe0f.png', 'pushpin_1f4cc.png', 'japanese-bargain-button_1f250.png', 'ringed-planet_1fa90.png', 'trophy_1f3c6.png', 'funeral-urn_26b1-fe0f.png', 'up-arrow_2b06-fe0f.png', 'thread_1f9f5.png', 'slightly-smiling-face_1f642.png', 'hotel_1f3e8.png', 'pile-of-poo_1f4a9.png', 'sparkling-heart_1f496.png', 'mechanic-medium-skin-tone_1f9d1-1f3fd-200d-1f527.png', 'woman-scientist-medium-dark-skin-tone_1f469-1f3fe-200d-1f52c.png', 'department-store_1f3ec.png', 'broom_1f9f9.png', 'eggplant_1f346.png', 'clinking-glasses_1f942.png', 'crown_1f451.png', 'potable-water_1f6b0.png', 'grinning-face-with-sweat_1f605.png', 'bouquet_1f490.png', 'man-teacher-light-skin-tone_1f468-1f3fb-200d-1f3eb.png', 'direct-hit_1f3af.png', 'face-with-spiral-eyes_1f635-200d-1f4ab.png', 'construction-worker_light-skin-tone_1f477-1f3fb_1f3fb.png', 'man-dancing_1f57a.png', 'kaaba_1f54b.png', 'rolling-on-the-floor-laughing_1f923.png', 'pig-face_1f437.png', 'scissors_2702-fe0f.png', 'bellhop-bell_1f6ce-fe0f.png', 'clapper-board_1f3ac.png', 'ferris-wheel_1f3a1.png', 'wheelchair-symbol_267f.png', 'face-with-tears-of-joy_1f602.png', 'joystick_1f579-fe0f.png', 'desert-island_1f3dd-fe0f.png', 'speaker-medium-volume_1f509.png', 'green-heart_1f49a.png', 'pouting-face_1f621.png', 'guitar_1f3b8.png', 'baby-symbol_1f6bc.png', 'sleepy-face_1f62a.png', 'snowman-without-snow_26c4.png', 'smiling-face-with-smiling-eyes_1f60a.png', 'scientist-medium-light-skin-tone_1f9d1-1f3fc-200d-1f52c.png', 'sleeping-face_1f634.png', 'clapping-hands_1f44f.png', 'sun-behind-cloud_26c5.png', 'duck_1f986.png', 'ring_1f48d.png', 'french-fries_1f35f.png', 'heart-hands_1faf6.png', 'last-quarter-moon-face_1f31c.png', 'confetti-ball_1f38a.png', 'luggage_1f9f3.png', 'backhand-index-pointing-down_1f447.png', 'backpack_1f392.png', 'diamond-with-a-dot_1f4a0.png', 'spiral-calendar_1f5d3-fe0f.png', 'handshake-no-skin-tone-no-skin-tone_1faf1-200d-1faf2.png', 'clinking-beer-mugs_1f37b.png', 'popcorn_1f37f.png', 'alembic_2697-fe0f.png', 'yarn_1f9f6.png', 'white-large-square_2b1c.png', 'cooking_1f373.png', 'leaf-fluttering-in-wind_1f343.png', 'sport-utility-vehicle_1f699.png', 'screwdriver_1fa9b.png', 'large-yellow-square_1f7e8.png', 'triangular-flag_1f6a9.png', 'flag-sierra-leone_1f1f8-1f1f1.png', 'white-circle_26aa.png', 'moai_1f5ff.png', 'mirror_1fa9e.png', 'person-lifting-weights_1f3cb-fe0f.png', 'cold-face_1f976.png', 'envelope-with-arrow_1f4e9.png', 'grapes_1f347.png', 'flag-chad_1f1f9-1f1e9.png', 'card-file-box_1f5c3-fe0f.png', 'star-of-david_2721-fe0f.png', 'flag-dominican-republic_1f1e9-1f1f4.png', 'brown-heart_1f90e.png', 'man-student-light-skin-tone_1f468-1f3fb-200d-1f393.png', 'tiger-face_1f42f.png', 'left-luggage_1f6c5.png', 'large-orange-square_1f7e7.png', 'puzzle-piece_1f9e9.png', 'dagger_1f5e1-fe0f.png', 'place-of-worship_1f6d0.png', 'face-with-open-eyes-and-hand-over-mouth_1fae2.png', 'battery_1f50b.png', 'white-heart_1f90d.png', 'man-office-worker-light-skin-tone_1f468-1f3fb-200d-1f4bc.png', 'american-football_1f3c8.png', 'fish-cake-with-swirl_1f365.png', 'man-office-worker-medium-light-skin-tone_1f468-1f3fc-200d-1f4bc.png', 'angry-face-with-horns_1f47f.png', 'computer-disk_1f4bd.png', 'paintbrush_1f58c-fe0f.png', 'anchor_2693.png', 'magnet_1f9f2.png', 'mosque_1f54c.png', 'man-mechanic-medium-light-skin-tone_1f468-1f3fc-200d-1f527.png', 'cockroach_1fab3.png', 'badminton_1f3f8.png', 'exploding-head_1f92f.png', 'skateboard_1f6f9.png', 'balloon_1f388.png', 'locomotive_1f682.png', 'large-green-circle_1f7e2.png', 'bottle-with-popping-cork_1f37e.png', 'crying-face_1f622.png', 'military-medal_1f396-fe0f.png', 'woozy-face_1f974.png', 'gem-stone_1f48e.png', 'basketball_1f3c0.png', 'joker_1f0cf.png', 'fleur-de-lis_269c-fe0f.png', 'tanabata-tree_1f38b.png', 'tractor_1f69c.png', 'circus-tent_1f3aa.png', 'school_1f3eb.png', 'record-button_23fa-fe0f.png', 'anxious-face-with-sweat_1f630 (1).png', 'hot-pepper_1f336-fe0f.png', 'woman-student-medium-dark-skin-tone_1f469-1f3fe-200d-1f393.png', 'man-surfing_1f3c4-200d-2642-fe0f.png', 'sos-button_1f198.png', 'tiger_1f405.png', 'large-orange-circle_1f7e0.png', 'leftwards-hand_1faf2.png', 'bathtub_1f6c1.png', 'graduation-cap_1f393.png', 'magnifying-glass-tilted-left_1f50d.png', 'dog-face_1f436.png', 'drooling-face_1f924.png', 'woman-technologist-medium-light-skin-tone_1f469-1f3fc-200d-1f4bb.png', 'play-button_25b6-fe0f.png', 'cookie_1f36a.png', 'roll-of-paper_1f9fb.png', 'fork-and-knife-with-plate_1f37d-fe0f.png', 'axe_1fa93.png', 'baseball_26be.png', 'identification-card_1faaa.png', 'upside-down-face_1f643.png', 'pencil_270f-fe0f.png', 'man-mechanic-medium-dark-skin-tone_1f468-1f3fe-200d-1f527.png', 'winking-face_1f609.png', 'cloud_2601-fe0f.png', 'cherry-blossom_1f338.png', 'outbox-tray_1f4e4.png', 'person-with-crown_1fac5.png', 'man-getting-massage_1f486-200d-2642-fe0f.png', 'face-screaming-in-fear_1f631.png', 'face-savoring-food_1f60b.png', 'couch-and-lamp_1f6cb-fe0f.png', 'black-heart_1f5a4.png', 'black-large-square_2b1b.png', 'television_1f4fa.png', 'desktop-computer_1f5a5-fe0f.png', 'cowboy-hat-face_1f920.png', 'large-blue-square_1f7e6.png', 'eyes_1f440.png', 'woman-in-tuxedo-light-skin-tone_1f935-1f3fb-200d-2640-fe0f.png', 'lollipop_1f36d.png', 'placard_1faa7.png', 'christmas-tree_1f384.png', 'orange-book_1f4d9.png', 'keycap-digit-two_32-fe0f-20e3.png', 'three-oclock_1f552.png', 'satellite-antenna_1f4e1.png', 'relieved-face_1f60c.png', 'sun-with-face_1f31e.png', 'printer_1f5a8-fe0f.png', 'face-blowing-a-kiss_1f618.png', 'headphone_1f3a7.png', 'speech-balloon_1f4ac.png', 'nerd-face_1f913.png', 'coffin_26b0-fe0f.png', 'man-technologist-medium-dark-skin-tone_1f468-1f3fe-200d-1f4bb.png', 'yellow-heart_1f49b.png', 'cactus_1f335.png', 'watermelon_1f349.png', 'large-blue-circle_1f535.png', 'large-brown-square_1f7eb.png', 'microphone_1f3a4.png', 'butterfly_1f98b.png', 'crossed-fingers_1f91e.png', 'memo_1f4dd.png', 'musical-keyboard_1f3b9.png', 'children-crossing_1f6b8.png', 'counterclockwise-arrows-button_1f504.png', 'woman-in-tuxedo-medium-light-skin-tone_1f935-1f3fc-200d-2640-fe0f.png', 'man-shrugging_1f937-200d-2642-fe0f.png', 'expressionless-face_1f611.png', 'sunflower_1f33b.png', 'kissing-face-with-smiling-eyes_1f619.png', 'woman-student-medium-light-skin-tone_1f469-1f3fc-200d-1f393.png', 'scientist-light-skin-tone_1f9d1-1f3fb-200d-1f52c.png', 'crocodile_1f40a.png', 'laptop_1f4bb (2).png', 'coat_1f9e5.png', 'tropical-fish_1f420.png', 'bow-and-arrow_1f3f9.png', 'shushing-face_1f92b.png', 'old-key_1f5dd-fe0f.png', 'unicorn_1f984.png', 'chart-increasing_1f4c8.png', 'zipper-mouth-face_1f910.png', 'top-hat_1f3a9.png', 'high-heeled-shoe_1f460.png', 'taxi_1f695.png', 'ticket_1f3ab.png', 'keycap-digit-seven_37-fe0f-20e3.png', 'triangular-ruler_1f4d0.png', 'top-arrow_1f51d.png', 'shamrock_2618-fe0f.png', 'downcast-face-with-sweat_1f613.png', 'carpentry-saw_1fa9a.png', 'laptop_1f4bb.png', 'mantelpiece-clock_1f570-fe0f.png', 'baby_1f476.png', 'page-with-curl_1f4c3.png', 'man-technologist-medium-light-skin-tone_1f468-1f3fc-200d-1f4bb.png', 'loudly-crying-face_1f62d.png', 'pistol_1f52b.png', 'videocassette_1f4fc.png', 'passport-control_1f6c2.png', 'mouth_1f444.png', 'face-vomiting_1f92e.png', 'no-littering_1f6af.png', 'up-left-arrow_2196-fe0f.png', 'grinning-face-with-smiling-eyes_1f604.png', 'backhand-index-pointing-up_1f446.png', 'key_1f511.png', 'large-brown-circle_1f7e4.png', 'warning_26a0-fe0f.png', 'pregnant-man_1fac3.png', 'no-one-under-eighteen_1f51e.png', 'high-voltage_26a1.png', 'flag-india_1f1ee-1f1f3.png', 'woman-in-tuxedo-medium-dark-skin-tone_1f935-1f3fe-200d-2640-fe0f.png', 'mushroom_1f344.png', 'playground-slide_1f6dd.png', 'thermometer_1f321-fe0f.png', 'basket_1f9fa.png', 'flexed-biceps_1f4aa.png', 'ice-skate_26f8-fe0f.png', 'biohazard_2623-fe0f.png', 'shrimp_1f990.png', 'synagogue_1f54d.png', 'red-heart_2764-fe0f.png', 'amphora_1f3fa.png', 'milky-way_1f30c.png', 'toolbox_1f9f0.png', 'sheaf-of-rice_1f33e.png', 'face-with-thermometer_1f912.png', 'test-tube_1f9ea.png', 'woman-getting-massage_1f486-200d-2640-fe0f.png', 'rabbit-face_1f430.png', 'keycap-digit-nine_39-fe0f-20e3.png', 'cinema_1f3a6.png', 'left-arrow_2b05-fe0f.png', 'no-mobile-phones_1f4f5.png', 'sunrise-over-mountains_1f304.png', 'smiling-face-with-horns_1f608.png', 'star_2b50.png', 'nut-and-bolt_1f529.png', 'name-badge_1f4db.png', 'dolphin_1f42c.png', 'wilted-flower_1f940.png', 'bank_1f3e6.png', 'palm-tree_1f334.png', 'folded-hands_1f64f.png', 'hamster_1f439.png', 'face-holding-back-tears_1f979.png', 'melting-face_1fae0.png', 'test_srt.aep', 'ping-pong_1f3d3.png', 'chair_1fa91.png', 'hot-face_1f975.png', 'chocolate-bar_1f36b.png', 'heart-with-ribbon_1f49d.png', 'prohibited_1f6ab.png', 'non-potable-water_1f6b1.png', 'mobile-phone_1f4f1.png', 'skull_1f480.png', 'classical-building_1f3db-fe0f.png', 'safety-vest_1f9ba.png', 'input-latin-lowercase_1f521.png', 'large-red-square_1f7e5.png', 'person-rowing-boat_1f6a3.png', 'calendar_1f4c5.png', 'police-car-light_1f6a8.png', 'woman-office-worker-medium-skin-tone_1f469-1f3fd-200d-1f4bc.png', 'hugging-face_1f917.png', 'long-drum_1fa98.png', 'notebook_1f4d3.png', 'large-red-circle_1f534.png', 'money-bag_1f4b0.png', 'trident-emblem_1f531.png', 'ring-buoy_1f6df.png', 'rainbow_1f308.png', 'oncoming-automobile_1f698.png', 'game-die_1f3b2.png', 'face-with-steam-from-nose_1f624.png', 'tennis_1f3be.png', 'open-book_1f4d6.png', 'love-you-gesture_1f91f.png', 'locked-with-key_1f510.png', 'downwards-button_1f53d.png', 'palm-up-hand_1faf4.png', 'woman-office-worker-light-skin-tone_1f469-1f3fb-200d-1f4bc.png', 'wrench_1f527.png', 'bed_1f6cf-fe0f.png', 'railway-car_1f683.png', 'flag-united-kingdom_1f1ec-1f1e7.png', 'pregnant-man_1fac3 (1).png', 'face-with-raised-eyebrow_1f928.png', 'keyboard_2328-fe0f.png', 'anxious-face-with-sweat_1f630.png', 'castle_1f3f0.png', 'hand-with-index-finger-and-thumb-crossed_1faf0.png', 'soap_1f9fc.png', 'skull-and-crossbones_2620-fe0f.png', 'running-shirt_1f3bd.png', 'dotted-line-face_1fae5.png', 'flag-libya_1f1f1-1f1fe.png', 'peace-symbol_262e-fe0f.png', 'face-with-hand-over-mouth_1f92d.png', 'necktie_1f454.png', 'saluting-face_1fae1.png', 'cloud-with-lightning-and-rain_26c8-fe0f.png', 'dizzy-face_1f635.png', 'page-facing-up_1f4c4.png', 'telephone-receiver_1f4de.png', 'hot-dog_1f32d.png', 'wrapped-gift_1f381.png', 'down-right-arrow_2198-fe0f.png', 'man-judge-light-skin-tone_1f468-1f3fb-200d-2696-fe0f.png', 'woman-teacher-light-skin-tone_1f469-1f3fb-200d-1f3eb.png', 'flag-nigeria_1f1f3-1f1ec.png', 'stop-sign_1f6d1.png', 'accordion_1fa97.png', 'lion_1f981.png', 'razor_1fa92.png', 'restroom_1f6bb.png', 'kiss-woman-man_1f469-200d-2764-fe0f-200d-1f48b-200d-1f468.png', 'flag-mexico_1f1f2-1f1fd.png', 'inbox-tray_1f4e5.png', 'clown-face_1f921.png', 'keycap-digit-one_31-fe0f-20e3.png', 'spiral-notepad_1f5d2-fe0f.png', 'tulip_1f337.png', 'man-student-medium-dark-skin-tone_1f468-1f3fe-200d-1f393.png', 'optical-disk_1f4bf.png', 'party-popper_1f389.png', 'bat_1f987.png', 'face-with-head-bandage_1f915.png', 'baguette-bread_1f956.png', 'full-moon-face_1f31d.png', 'volcano_1f30b.png', 'microscope_1f52c.png', 'flag-pitcairn-islands_1f1f5-1f1f3.png', 'woman-running_1f3c3-200d-2640-fe0f.png', 'sparkles_2728.png', 'no-entry_26d4.png', 'backhand-index-pointing-right_1f449.png', 'beaming-face-with-smiling-eyes_1f601.png', 'rescue-workers-helmet_26d1-fe0f.png', 'rightwards-hand_1faf1.png', 'octopus_1f419.png', 'billed-cap_1f9e2.png', 'soccer-ball_26bd.png', 'crown_1f451 (1).png', 'pizza_1f355.png', 'link_1f517.png', 'artist-palette_1f3a8.png', 'lotus_1fab7.png', 'roller-coaster_1f3a2.png', 'light-bulb_1f4a1.png', 'woman-construction-worker-light-skin-tone_1f477-1f3fb-200d-2640-fe0f.png', 'airplane_2708-fe0f.png', 'orange-heart_1f9e1.png', 'flag-saudi-arabia_1f1f8-1f1e6.png', 'partying-face_1f973.png', 'keycap-10_1f51f.png', 'pleading-face_1f97a.png', 'star-struck_1f929.png', 'flag-switzerland_1f1e8-1f1ed.png', 'woman-scientist-light-skin-tone_1f469-1f3fb-200d-1f52c.png', 'umbrella-with-rain-drops_2614.png', 'monkey-face_1f435.png', 'hourglass-done_231b.png', 'call-me-hand_1f919.png', 'love-letter_1f48c.png', 'wine-glass_1f377.png', 'man-technologist-light-skin-tone_1f468-1f3fb-200d-1f4bb.png', 'building-construction_1f3d7-fe0f.png', 'mahjong-red-dragon_1f004.png', 'person-in-tuxedo_medium-dark-skin-tone_1f935-1f3fe_1f3fe.png', 'person-swimming_1f3ca.png', 'koala_1f428.png', 'kissing-face-with-closed-eyes_1f61a.png', 'package_1f4e6.png', 'ambulance_1f691.png', 'laptop_1f4bb (1).png', 'fire_1f525.png', 'pregnant-woman_1f930.png', 'movie-camera_1f3a5.png', 'rice-cracker_1f358.png', 'yin-yang_262f-fe0f.png', 'volleyball_1f3d0.png', 'shield_1f6e1-fe0f.png', 'linked-paperclips_1f587-fe0f.png', 'maple-leaf_1f341.png', 'waving-hand_1f44b.png', 'woman-student-light-skin-tone_1f469-1f3fb-200d-1f393.png', 'down-left-arrow_2199-fe0f.png', 'sign-of-the-horns_1f918.png', 'balance-scale_2696-fe0f.png', 'flag-afghanistan_1f1e6-1f1eb.png', 'green-book_1f4d7.png', 'closed-book_1f4d5.png', 'collision_1f4a5.png', 'paperclip_1f4ce.png', 'winking-face-with-tongue_1f61c.png', 'fox_1f98a.png', 'zany-face_1f92a.png', 'index-pointing-up_261d-fe0f.png', 'flag-ireland_1f1ee-1f1ea.png', 'hammer_1f528.png', 'magic-wand_1fa84.png', 'next-track-button_23ed-fe0f.png', 'large-orange-diamond_1f536.png', 'door_1f6aa.png', 'vulcan-salute_1f596.png', 'bear_1f43b.png', 'pill_1f48a.png', 'smiling-face-with-tear_1f972.png', 'hundred-points_1f4af.png', 'canoe_1f6f6.png', 'chart-increasing-with-yen_1f4b9.png', 'red-paper-lantern_1f3ee.png', 'globe-showing-americas_1f30e.png', 'syringe_1f489.png', 'person-running_1f3c3.png', 'man-judge-medium-light-skin-tone_1f468-1f3fc-200d-2696-fe0f.png', 'sneezing-face_1f927.png', 'pause-button_23f8-fe0f.png', 'droplet_1f4a7.png', 'purple-heart_1f49c.png', 'man-judge-medium-dark-skin-tone_1f468-1f3fe-200d-2696-fe0f.png', 'woman-technologist-light-skin-tone_1f469-1f3fb-200d-1f4bb.png', 'kick-scooter_1f6f4.png', 'sparkler_1f387.png', 'flag-new-zealand_1f1f3-1f1ff.png', 'mouse-face_1f42d.png', 'black-circle_26ab.png', 'last-track-button_23ee-fe0f.png', 'new-moon-face_1f31a.png', 'flying-saucer_1f6f8.png', 'trumpet_1f3ba.png', 'chains_26d3-fe0f.png', 'flag-monaco_1f1f2-1f1e8.png', 'fire-engine_1f692.png', 'evergreen-tree_1f332.png', 'smiling-cat-with-heart-eyes_1f63b.png', 'admission-tickets_1f39f-fe0f.png', 'person-in-tuxedo_medium-light-skin-tone_1f935-1f3fc_1f3fc.png', 'crossed-swords_2694-fe0f.png', 'chicken_1f414.png', 'thinking-face_1f914.png', 'japanese-symbol-for-beginner_1f530.png', 'candy_1f36c.png', 'mechanic-medium-light-skin-tone_1f9d1-1f3fc-200d-1f527.png', 'water-closet_1f6be.png', 'heart-on-fire_2764-fe0f-200d-1f525.png', 'rat_1f400.png', 'woman-dancing_1f483.png', 'low-battery_1faab.png', 'panda_1f43c.png', 'people-with-bunny-ears_1f46f.png', 'night-with-stars_1f303.png', 'snail_1f40c.png', 'flashlight_1f526.png', 'wind-face_1f32c-fe0f.png', 'factory_1f3ed.png', 'high-voltage_26a1 (1).png', 'sewing-needle_1faa1.png', 'smiling-face-with-hearts_1f970.png', 'blue-book_1f4d8.png', 'litter-in-bin-sign_1f6ae.png', '1st-place-medal_1f947.png', 'cross-mark-button_274e (1).png', 'middle-finger_1f595.png', 'shinto-shrine_26e9-fe0f.png', 'motor-scooter_1f6f5.png', 'man-student-medium-light-skin-tone_1f468-1f3fc-200d-1f393.png', 'snowflake_2744-fe0f (1).png', 'lipstick_1f484.png', 'boxing-glove_1f94a.png', 'keycap-digit-four_34-fe0f-20e3.png', 'large-green-square_1f7e9.png', 'squid_1f991.png', 'face-with-diagonal-mouth_1fae4.png', 'no-smoking_1f6ad.png', 'cloud-with-lightning_1f329-fe0f.png', 'books_1f4da.png', 'video-game_1f3ae.png', 'frog_1f438.png', 'clipboard_1f4cb.png', 'sponge_1f9fd.png', 'ear-of-corn_1f33d.png', 'electric-plug_1f50c.png', 'adhesive-bandage_1fa79.png', 'flying-disc_1f94f.png', 'baggage-claim_1f6c4.png', 'file-folder_1f4c1.png', 'cross-mark-button_274e.png', 'mending-heart_2764-fe0f-200d-1fa79.png', 'gear_2699-fe0f.png', 'floppy-disk_1f4be.png', 'snowflake_2744-fe0f.png', 'large-yellow-circle_1f7e1.png', 'keycap-digit-eight_38-fe0f-20e3.png', 'stop-button_23f9-fe0f.png', 'martial-arts-uniform_1f94b.png', 'nauseated-face_1f922.png', 'victory-hand_270c-fe0f.png', 'back-arrow_1f519.png', 'x-ray_1fa7b.png', 'down-arrow_2b07-fe0f.png', 'star-and-crescent_262a-fe0f.png', 'woman-scientist-medium-light-skin-tone_1f469-1f3fc-200d-1f52c.png', 'wastebasket_1f5d1-fe0f.png', 'hammer-and-wrench_1f6e0-fe0f.png', 'troll_1f9cc.png', 'water-wave_1f30a.png', 'sweat-droplets_1f4a6.png', 'guide-dog_1f9ae.png', 'large-purple-circle_1f7e3.png', 'house_1f3e0.png', 'face-with-monocle_1f9d0.png', 'woman-office-worker-medium-light-skin-tone_1f469-1f3fc-200d-1f4bc.png', 'bikini_1f459.png', 'statue-of-liberty_1f5fd.png', 'no-bicycles_1f6b3.png', 'new-moon-face_1f31a (1).png', 'neutral-face_1f610.png', 'four-leaf-clover_1f340.png', 'large-purple-square_1f7ea.png', 'japanese-secret-button_3299-fe0f.png', 'kissing-face_1f617.png', 'round-pushpin_1f4cd.png', 'carousel-horse_1f3a0.png', 'construction_1f6a7.png', 'mechanic-medium-dark-skin-tone_1f9d1-1f3fe-200d-1f527.png', 'no-pedestrians_1f6b7.png', 'chart-decreasing_1f4c9.png', 'blue-heart_1f499.png', 'person-in-tuxedo_light-skin-tone_1f935-1f3fb_1f3fb.png', 'firecracker_1f9e8.png', 'beach-with-umbrella_1f3d6-fe0f.png', 'flag-benin_1f1e7-1f1ef.png', 'sailboat_26f5.png', 'crescent-moon_1f319.png', 'man-mechanic-light-skin-tone_1f468-1f3fb-200d-1f527.png', 'candle_1f56f-fe0f.png', 'flag-netherlands_1f1f3-1f1f1.png', 'plunger_1faa0.png', 'smirking-face_1f60f.png', 'bar-chart_1f4ca.png', 'briefcase_1f4bc.png', 'rose_1f339.png', 'alarm-clock_23f0.png', 'woman-technologist-medium-dark-skin-tone_1f469-1f3fe-200d-1f4bb.png', 'automobile_1f697.png', 'barber-pole_1f488.png', 'motorway_1f6e3-fe0f.png', 'smiling-face-with-halo_1f607.png', 'umbrella_2602-fe0f.png', 'person-biking_1f6b4.png', 'camping_1f3d5-fe0f.png', 'keycap-digit-zero_30-fe0f-20e3.png', 'crystal-ball_1f52e.png', 'recycling-symbol_267b-fe0f.png', 'rice-ball_1f359.png', 'backhand-index-pointing-left_1f448.png', 'play-or-pause-button_23ef-fe0f.png', 'police-car_1f693.png', 'globe-showing-europe-africa_1f30d.png', 'flag-germany_1f1e9-1f1ea.png', 'bubbles_1fae7.png', 'hamburger_1f354.png', 'hatching-chick_1f423.png', 'man-office-worker-medium-skin-tone_1f468-1f3fd-200d-1f4bc.png', 'shopping-cart_1f6d2.png', 'smiling-face-with-heart-eyes_1f60d.png', 'keycap-digit-five_35-fe0f-20e3.png', 'right-arrow_27a1-fe0f.png', 'hot-beverage_2615.png', 'flag-comoros_1f1f0-1f1f2.png', 'kite_1fa81.png', 'flag-greenland_1f1ec-1f1f1.png', 'scientist-medium-dark-skin-tone_1f9d1-1f3fe-200d-1f52c.png', 'lotion-bottle_1f9f4.png', 'ferry_26f4-fe0f.png', 'doughnut_1f369.png', 'flag-luxembourg_1f1f1-1f1fa.png', 'hospital_1f3e5.png', 'hourglass-not-done_23f3.png', 'newspaper_1f4f0.png', 'face-with-peeking-eye_1fae3.png', 'flag-gabon_1f1ec-1f1e6.png']
quotes = ["INFP_charismatic.png",
"INFP_writing.png",
"INFP_posing.png",
"INFP_reading.png",
"INFP_sad.png",
"INFP_angry.png",
"INFP_painting.png",
"INFP_posing2.png",
"INFP_thinking.png",
"INFP_writing2.png",
"INFP_happy.png",
"INFP_sad2.png",
"INFP_thinking2.png",
"INFP_thoughtful.png",
"INFP_evil.png",
"INFJ_reading.png",
"INFJ_teaching to a child.png",
"INFJ_charismatic.png",
"INFJ_intense eyes.png",
"INFJ_writing.png",
"INFJ_wise.png",
"INFJ_helping.png",
"INFJ_thinking.png",
"INFJ_reading loud.png",
"INFJ_stoic.png"]
from langchain.vectorstores import Chroma, Pinecone
from langchain.embeddings import OpenAIEmbeddings
import numpy as np
from langchain.llms import OpenAI
from langchain.chains.question_answering import load_qa_chain
import faiss
import pinecone
os.environ["OPENAI_API_KEY"] = OPEN_AI_KEY
PINECONE_API_KEY = os.environ.get('PINECONE_API_KEY', 'b5e44f0a-a23b-4e0e-b504-cde75a22a7db')
PINECONE_API_ENV = os.environ.get('PINECONE_API_ENV', 'gcp-starter')
# embeddings = OpenAIEmbeddings(size=1536)
embeddings = OpenAIEmbeddings(openai_api_key="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",)
embeddings_list = []

for quote in quotes:
    embeddings_list.append(embeddings.embed_query(quote))

embeddings_list = np.array(embeddings_list).astype("float32")
index = faiss.IndexFlatL2(1536)
index.add(embeddings_list)
faiss.write_index(index, "myindex.index")
# index = faiss.read_index("myindex.index")


# initialize pinecone
# pinecone.init(
#     api_key=PINECONE_API_KEY,  # find at app.pinecone.io
#     environment=PINECONE_API_ENV  # next to api key in console
# )
# docsearch = Pinecone.from_texts(quotes, embeddings, index_name="mbti")
# llm = OpenAI(temperature=0, openai_api_key=OPEN_AI_KEY, model_name="gpt-4")

# with open("/Users/emmanuellandau/Documents/DONE 2/Le signe le plus colérique/st.srt", 'r', encoding='utf-8') as file:
#     content = file.read().strip().split('\n\n')
#     for subtitle in content:
#         lines = subtitle.split('\n')

        # Ignorer l'indice et l'horodatage, ne prendre que le texte du sous-titre
        # text_only = '\n'.join(lines[2:])
        # if len(text_only.split()) >= 2:

            # test_sample = embeddings.embed_query("Wich file name illustrate this piece of text: " + text_only)
            # test_sample = np.array([test_sample]).astype("float32")
            # k = 3
            # distances, indices = index.search(test_sample, k)
            # print(text_only,": ", np.array(quotes)[indices])

            # llm = OpenAI(temperature=0, openai_api_key=OPEN_AI_KEY)
            # chain = load_qa_chain(llm, chain_type="stuff")
            # query = "I'm enhancing the subtitle of my astrology's video with emojis. If it's possible give me only the unicode name of an emoji that could be pertinent with this text: " + text_only + "As I only want the unicode text your response will probably not exceed 10 caracters. I will write the sentence in which the subtitle in for context:"
            # docs = docsearch.similarity_search(query)
            # print(text_only, chain.run(input_documents=docs, question=query))

    # current_sentence = ""
    # for subtitle in content:
    #     lines = subtitle.split('\n')
    #     text_only = ' '.join(lines[2:])
    #
    #
    #     # Ajouter le texte du sous-titre actuel à la phrase en cours
    #     current_sentence += " " + text_only
    #
    #     # Vérifier si la phrase est terminée
    #     if current_sentence.strip().endswith(('.', '!', '?')):
    #         if len(current_sentence.split()) >= 3:
    #             print(current_sentence.strip())
    #             print('-' * 40)  # Séparateur pour une meilleure visibilité
    #         current_sentence = ""

